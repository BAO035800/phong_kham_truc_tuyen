<div class="max-w-md mx-auto mt-10 bg-white rounded-xl shadow p-6">
    <h2 class="text-xl font-semibold mb-4 text-center">ğŸ“ ÄÄƒng kÃ½ tÃ i khoáº£n</h2>
  
    <form id="registerForm" class="space-y-3">
      <div>
        <label class="block text-sm font-medium">Há» vÃ  tÃªn</label>
        <input type="text" id="fullname" class="w-full border rounded-md p-2" placeholder="Nguyá»…n VÄƒn A" required />
      </div>
  
      <div>
        <label class="block text-sm font-medium">Email</label>
        <input type="email" id="email" class="w-full border rounded-md p-2" placeholder="example@gmail.com" required />
      </div>
  
      <div>
        <label class="block text-sm font-medium">Máº­t kháº©u</label>
        <input type="password" id="password" class="w-full border rounded-md p-2" required />
      </div>
  
      <div>
        <label class="block text-sm font-medium">Vai trÃ²</label>
        <select id="role" class="w-full border rounded-md p-2" required>
          <option value="patient">Bá»‡nh nhÃ¢n</option>
          <option value="doctor">BÃ¡c sÄ©</option>
        </select>
      </div>
  
      <button type="submit" class="w-full bg-primary text-white py-2 rounded-md hover:opacity-90 transition">
        ÄÄƒng kÃ½
      </button>
  
      <p class="text-center text-sm mt-2 text-gray-500">
        ÄÃ£ cÃ³ tÃ i khoáº£n?
        <a href="#/login" class="text-blue-600 hover:underline">ÄÄƒng nháº­p</a>
      </p>
    </form>
  
    <div id="registerStatus" class="text-center text-sm text-gray-600 mt-4"></div>
  </div>
  
  <script>
  (() => {
    const form = document.getElementById("registerForm");
    const status = document.getElementById("registerStatus");
  
    form.addEventListener("submit", e => {
      e.preventDefault();
      const name = document.getElementById("fullname").value.trim();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      const role = document.getElementById("role").value;
  
      if (!name || !email || !password) {
        status.textContent = "âš ï¸ Vui lÃ²ng Ä‘iá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin.";
        status.className = "text-center text-sm text-red-500 mt-4";
        return;
      }
  
      // giáº£ láº­p lÆ°u user vÃ o localStorage
      const users = JSON.parse(localStorage.getItem("users") || "[]");
      if (users.find(u => u.email === email)) {
        status.textContent = "âŒ Email nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½!";
        status.className = "text-center text-sm text-red-500 mt-4";
        return;
      }
  
      const newUser = { id: Date.now(), name, email, password, role };
      users.push(newUser);
      localStorage.setItem("users", JSON.stringify(users));
  
      status.textContent = "âœ… ÄÄƒng kÃ½ thÃ nh cÃ´ng! Chuyá»ƒn Ä‘áº¿n trang Ä‘Äƒng nháº­p...";
      status.className = "text-center text-sm text-green-600 mt-4";
  
      setTimeout(() => {
        window.location.hash = "#/login";
      }, 1000);
    });
  })();
  </script>
  