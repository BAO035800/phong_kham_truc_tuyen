<div class="max-w-md mx-auto mt-10 bg-white rounded-xl shadow p-6">
    <h2 class="text-xl font-semibold mb-4 text-center">📝 Đăng ký tài khoản</h2>
  
    <form id="registerForm" class="space-y-3">
      <div>
        <label class="block text-sm font-medium">Họ và tên</label>
        <input type="text" id="fullname" class="w-full border rounded-md p-2" placeholder="Nguyễn Văn A" required />
      </div>
  
      <div>
        <label class="block text-sm font-medium">Email</label>
        <input type="email" id="email" class="w-full border rounded-md p-2" placeholder="example@gmail.com" required />
      </div>
  
      <div>
        <label class="block text-sm font-medium">Mật khẩu</label>
        <input type="password" id="password" class="w-full border rounded-md p-2" required />
      </div>
  
      <div>
        <label class="block text-sm font-medium">Vai trò</label>
        <select id="role" class="w-full border rounded-md p-2" required>
          <option value="patient">Bệnh nhân</option>
          <option value="doctor">Bác sĩ</option>
        </select>
      </div>
  
      <button type="submit" class="w-full bg-primary text-white py-2 rounded-md hover:opacity-90 transition">
        Đăng ký
      </button>
  
      <p class="text-center text-sm mt-2 text-gray-500">
        Đã có tài khoản?
        <a href="#/login" class="text-blue-600 hover:underline">Đăng nhập</a>
      </p>
    </form>
  
    <div id="registerStatus" class="text-center text-sm text-gray-600 mt-4"></div>
  </div>
  
  <script>
  (() => {
    const form = document.getElementById("registerForm");
    const status = document.getElementById("registerStatus");
  
    form.addEventListener("submit", e => {
      e.preventDefault();
      const name = document.getElementById("fullname").value.trim();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      const role = document.getElementById("role").value;
  
      if (!name || !email || !password) {
        status.textContent = "⚠️ Vui lòng điền đầy đủ thông tin.";
        status.className = "text-center text-sm text-red-500 mt-4";
        return;
      }
  
      // giả lập lưu user vào localStorage
      const users = JSON.parse(localStorage.getItem("users") || "[]");
      if (users.find(u => u.email === email)) {
        status.textContent = "❌ Email này đã được đăng ký!";
        status.className = "text-center text-sm text-red-500 mt-4";
        return;
      }
  
      const newUser = { id: Date.now(), name, email, password, role };
      users.push(newUser);
      localStorage.setItem("users", JSON.stringify(users));
  
      status.textContent = "✅ Đăng ký thành công! Chuyển đến trang đăng nhập...";
      status.className = "text-center text-sm text-green-600 mt-4";
  
      setTimeout(() => {
        window.location.hash = "#/login";
      }, 1000);
    });
  })();
  </script>
  